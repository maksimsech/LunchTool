@{
    ViewData["Title"] = "Администрирование: копирование меню";
    int i = 0;
}

@model Tuple<LunchTool.Web.ViewModels.MenuViewModel, IEnumerable<LunchTool.Web.ViewModels.DishViewModel>>

<div class="row">
    <div class="col-md-10 offset-md-1">
        <div class="card">
            <div class="card-header">
                Копирование меню
            </div>
            <form asp-action="CopyMenu" asp-controller="Administration" method="post" class="card-body">
                <div class="form-group">
                    <label for="Name">Название</label>
                    <input type="text" name="Name" value="@Model.Item1.Name" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="Info">Информация</label>
                    <input type="text" name="Info" value="@Model.Item1.Info" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="Date">Дата</label>
                    <input type="date" name="Date" value="@Model.Item1.Date.ToString("yyyy-MM-dd")" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="TimeLimit">Ограничение по времени</label>
                    <input type="time" name="TimeLimit" value="@Model.Item1.TimeLimit.TimeOfDay" class="form-control" />
                </div>
                <input type="hidden" name="ProviderId" value="@Model.Item1.ProviderId">
                <div class="form-group">
                    <input type="submit" name="" value="Копировать" class="btn btn-primary" />
                </div>
                <div class="form-group">
                    <table class="table">
                        <tr>
                            <td>Название</td>
                            <td>Вес</td>
                            <td>Цена</td>
                            <td>Копировать</td>
                        </tr>
                        @foreach (var item in Model.Item2)
                        {
                            <tr>
                                <td style="position:relative;">
                                    <input type="text" value="@item.Name" name="copyDishViewModels[@i].Name" />
                                </td>
                                <td style="position:relative;">
                                    <input type="text" value="@item.Weight" name="copyDishViewModels[@i].Weight" />
                                </td>
                                <td style="position:relative;">
                                    <input type="text" value="@item.Price" name="copyDishViewModels[@i].Price" />
                                </td>
                                <td style="position:relative;">
                                    <input checked="checked" class="form-check-input" style="right:50%;" data-val="true" data-val-required="The Active field is required." id="copyDishViewModels[@i].IsSelected" name="copyDishViewModels[@i].IsSelected" type="checkbox" value="true">
                                </td>
                            </tr>
                            i++;
                        }
                    </table>
                </div>
            </form>
        </div>        
    </div> 
</div>

